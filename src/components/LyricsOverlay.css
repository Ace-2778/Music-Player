/* 歌词 Overlay 遮罩 */
.lyrics-overlay {
  position: fixed;
  bottom: 72px; /* ⭐ 从底部开始，BottomBar 高度为 72px */
  left: 0;
  right: 0;
  top: auto; /* ⭐ 重点：从下往上扩展 */
  background: rgba(255, 255, 255, 0.98);
  backdrop-filter: blur(20px);
  z-index: 999; /* ⭐ 低于 PlayerBar (1000)，确保 BottomBar 始终在最上层 */
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden; /* ⭐ 关键：防止内容在展开时提前露出 */
}

/* ⭐ 移除旧的 .lyrics-overlay-open 类，现在由 framer-motion 控制 */

/* 歌词内容容器 */
.lyrics-content {
  position: relative;
  width: 90%;
  max-width: 1100px; /* ⭐ 缩小整体宽度，让歌词更紧凑 */
  height: 100%;
  display: flex;
  flex-direction: column;
  padding: 48px 60px 32px;
  /* ⭐ 不再使用 framer-motion 的 y 偏移，改为高度动画 */
}

/* ⭐ 移除旧的 .lyrics-overlay-open .lyrics-content 规则 */

/* 左右布局 - 使用 Grid 实现左窄右宽布局 */
.lyrics-layout {
  display: grid;
  grid-template-columns: 1fr 2fr; /* ⭐ 调整比例适应全屏展开 */
  gap: 0;
  height: 100%;
  flex: 1;
  min-height: 0;
  width: 100%; /* ⭐ 全宽 */
  max-width: 100%; /* ⭐ 不限制宽度 */

/* 左侧 Box：封面容器（约 33% 宽，封面靠左对齐）*/
.lyrics-cover-section {
  display: flex;
  align-items: center; /* ⭐ 垂直居中 */
  justify-content: flex-start; /* ⭐ 水平靠左对齐，大屏下不会太靠右 */
  height: 100%; /* ⭐ 等高 */
  padding: 40px; /* ⭐ 内边距，让封面不贴边 */
  background: #fafafa; /* ⭐ 轻微背景色区分左右区域（可选）*/
}

.lyrics-cover {
  width: 280px; /* ⭐ 封面尺寸可根据需要调整 */
  height: 280px;
  border-radius: 16px;
  overflow: hidden;
  background: #e5e5e5;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.06);
  flex-shrink: 0;
}

.lyrics-cover-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.lyrics-cover-placeholder {
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  color: rgba(115, 115, 115, 0.2);
  background: #e5e5e5;
}

/* 右侧 Box：歌词容器（可滚动，左对齐）*/

.lyrics-text-section {
  display: flex;
  flex-direction: column;
  height: 100%;
  min-height: 0; /* ⭐ 允许子元素滚动区域正确计算高度 */
  min-width: 0; /* ⭐ 关键：允许子元素文字截断 */
  overflow: hidden; /* ⭐ 隐藏溢出内容 */
  padding: 40px 60px;
  background: #ffffff;
}

/* 歌词内容滚动区域，仅 lyrics-body-scroll 可滚动 */
.lyrics-body-scroll {
  flex: 1;
  min-height: 0; /* 关键：允许 flex 子项正确滚动 */
  overflow-y: auto;
  overflow-x: hidden; /* ⭐ 隐藏横向滚动条 */
  /* 保持与父容器一致的 padding-right 可选 */
}

/* 自定义滚动条样式 */
.lyrics-body-scroll::-webkit-scrollbar {
  width: 6px;
}
.lyrics-body-scroll::-webkit-scrollbar-track {
  background: transparent;
}
.lyrics-body-scroll::-webkit-scrollbar-thumb {
  background: #d4d4d4;
  border-radius: 3px;
}
.lyrics-body-scroll::-webkit-scrollbar-thumb:hover {
  background: #a3a3a3;
}

/* 关闭按钮 */
.lyrics-close-btn {
  position: absolute;
  top: 24px;
  right: 24px;
  width: 40px;
  height: 40px;
  border: none;
  background: transparent;
  color: #737373;
  cursor: pointer;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 150ms ease;
}

.lyrics-close-btn:hover {
  background: #f5f5f5;
  color: #171717;
}

.lyrics-close-btn:active {
  transform: scale(0.95);
}

/* 歌曲信息 */
.lyrics-header {
  margin-bottom: 32px;
  padding-bottom: 24px;
  border-bottom: 1px solid #e5e5e5;
  min-width: 0; /* ⭐ 关键：允许子元素文字截断 */
  overflow: hidden; /* ⭐ 隐藏溢出内容 */
  flex-shrink: 0; /* ⭐ 不被挤压 */
}

.lyrics-title {
  font-size: 28px;
  font-weight: 600;
  color: #171717;
  margin: 0 0 6px 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.lyrics-artist {
  font-size: 16px;
  color: #737373;
  margin: 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* 歌词内容区域（不再需要单独滚动，整个右侧 box 滚动）*/
.lyrics-scroll-area {
  flex: 1;
  /* ⭐ 移除 overflow-y: auto，由父容器 .lyrics-text-section 处理滚动 */
  /* ⭐ 移除 padding-right，由父容器统一管理 padding */
}

/* ⭐ 移除 .lyrics-scroll-area 的滚动条样式，改为 .lyrics-text-section 的滚动条 */

/* 歌词状态（Loading / Error / None）*/
.lyrics-state {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  gap: 12px;
  color: #a3a3a3;
  padding: 40px 0;
}

.lyrics-state svg {
  opacity: 0.5;
}

.lyrics-state p {
  font-size: 14px;
  margin: 0;
}

/* Loading 动画 */
.lyrics-spinner {
  animation: spin 1s linear infinite;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

/* 歌词行容器 */
.lyrics-lines {
  display: flex;
  flex-direction: column;
  gap: 0;
}

/* ⭐ 歌词 spacer：用于微调聚焦位置的透明空白区 */
.lyrics-spacer {
  flex-shrink: 0;
  pointer-events: none;
}

/* 歌词行 */
.lyrics-line {
  padding: 6px 16px; /* ⭐ 左右增加 16px 空间，防止放大时超出 */
  color: #a3a3a3; /* ⭐ 非激活行更淡 */
  transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);
  word-wrap: break-word;
  white-space: pre-wrap;
  opacity: 0.5; /* ⭐ 非激活行半透明 */
}

/* ⭐ 可点击的歌词行（有 timeMs） */
.lyrics-line-clickable {
  cursor: pointer;
}

.lyrics-line-clickable:hover {
  opacity: 0.8;
  color: #737373;
}

/* ⭐ 激活的歌词行（当前播放） */
.lyrics-line-active {
  color: #171717; /* ⭐ 更深的颜色 */
  font-weight: 600; /* ⭐ 加粗 */
  font-size: 1.15em; /* ⭐ 稍微放大 */
  opacity: 1; /* ⭐ 完全不透明 */
  transform: scale(1.02); /* ⭐ 轻微缩放效果 */
}

/* 空行（♪ 符号）*/
.lyrics-line:empty::before {
  content: '♪';
  opacity: 0.3;
}

/* 歌词元信息（来源/类型）*/
.lyrics-meta {
  margin-top: 32px;
  padding-top: 16px;
  border-top: 1px solid #e5e5e5;
  display: flex;
  gap: 8px;
  font-size: 12px;
  color: #a3a3a3;
}

.lyrics-source,
.lyrics-type {
  opacity: 0.6;
}

/* ⭐ 右键菜单样式（复用 TrackList 样式） */
.context-menu {
  position: fixed;
  background: #fff;
  border-radius: 6px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.12);
  z-index: 10000;
  min-width: 160px;
  overflow: hidden;
  padding: 4px 0;
}

.context-menu-item {
  display: flex;
  align-items: center;
  gap: 8px;
  width: 100%;
  padding: 8px 12px;
  border: none;
  background: transparent;
  color: #171717;
  font-size: 13px;
  cursor: pointer;
  transition: background-color 0.1s ease;
  text-align: left;
}

.context-menu-item:hover:not(:disabled) {
  background-color: #f5f5f5;
}

.context-menu-item:disabled {
  opacity: 0.4;
  cursor: not-allowed;
}

.context-menu-item svg {
  flex-shrink: 0;
  width: 16px;
  height: 16px;
  color: #737373;
}

.context-menu-divider {
  height: 1px;
  background-color: #f0f0f0;
  margin: 4px 0;
}

